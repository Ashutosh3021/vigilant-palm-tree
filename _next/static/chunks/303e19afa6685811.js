(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39178,e=>{"use strict";let t={High:3,Medium:2,Low:1};function s(e){if(0===e.length)return 0;let s=e.filter(e=>e.completed),r=e.reduce((e,s)=>e+t[s.priority],0),l=s.reduce((e,s)=>e+t[s.priority],0);return 0===r?0:Math.round(l/r*100)}function r(e){return 0===e?0:e<25?1:e<50?2:e<75?3:4}e.s(["calculateDailyScore",()=>s,"getScoreLevel",()=>r])},25652,e=>{"use strict";let t=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},76643,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r({title:e,value:s,icon:r,description:l}){return(0,t.jsxs)("div",{className:"p-6 border rounded-lg bg-card",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:e}),(0,t.jsx)(r,{className:"h-5 w-5 text-muted-foreground"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-balance",children:s}),l&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:l})]})]})}var l=e.i(25652),a=e.i(75254);let n=(0,a.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),i=(0,a.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var d=e.i(22016),c=e.i(39178);let o=(0,a.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var h=e.i(67881);function u({scores:e}){let s=new Date,r=[];for(let e=29;e>=0;e--){let t=new Date(s);t.setDate(t.getDate()-e),r.push(t)}let l=new Map;return e.forEach(e=>{l.set(e.date,e)}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Last 30 Days"}),(0,t.jsx)(h.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsxs)(d.default,{href:"/heatmap",children:["View Full Heatmap",(0,t.jsx)(o,{className:"h-4 w-4 ml-2"})]})})]}),(0,t.jsx)("div",{className:"flex gap-1",children:r.map(e=>{let s=e.toISOString().split("T")[0],r=l.get(s),a=r?(0,c.getScoreLevel)(r.score):0;return(0,t.jsx)("div",{className:`w-4 h-4 rounded-sm ${(e=>{switch(e){case 0:default:return"bg-[#ebedf0]";case 1:return"bg-[#add8e6]";case 2:return"bg-[#4682b4]";case 3:return"bg-[#1e90ff]";case 4:return"bg-[#00008b]"}})(a)} hover:ring-2 ring-foreground/50 transition-all cursor-pointer`,title:r?`${s}: ${r.score}% (${r.tasks_completed}/${r.total_tasks} tasks)`:`${s}: No tasks`},s)})})]})}function m({scores:e}){if(!e||0===e.length)return(0,t.jsx)("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:"No data available yet"});let s=1===e.length,r=540,l=130,a=e.map((t,a)=>({x:s?40+r/2:40+a/(e.length-1)*r,y:20+(100-t.score)/100*l,score:t})),n=a.map((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`).join(" "),i=`${n} L ${a[a.length-1].x} ${150} L 40 ${150} Z`;return(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsxs)("svg",{width:600,height:180,className:"w-full",children:[[0,25,50,75,100].map(e=>{let s=20+(100-e)/100*l;return(0,t.jsxs)("g",{children:[(0,t.jsx)("line",{x1:40,y1:s,x2:580,y2:s,stroke:"currentColor",strokeOpacity:"0.1",strokeDasharray:"2,2"}),(0,t.jsxs)("text",{x:30,y:s+4,textAnchor:"end",fontSize:"10",fill:"currentColor",opacity:"0.5",children:[e,"%"]})]},e)}),(0,t.jsx)("path",{d:i,fill:"hsl(var(--primary))",fillOpacity:"0.1"}),(0,t.jsx)("path",{d:n,fill:"none",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((e,s)=>(0,t.jsx)("circle",{cx:e.x,cy:e.y,r:"4",fill:"hsl(var(--primary))",className:"hover:r-6 transition-all cursor-pointer",children:(0,t.jsx)("title",{children:`Day ${s+1}: ${e.score.score}%`})},s)),e.map((l,a)=>{if(e.length>7&&a%2!=0)return null;let n=s?40+r/2:40+a/(e.length-1)*r,i=new Date(l.date);return(0,t.jsx)("text",{x:n,y:170,textAnchor:"middle",fontSize:"10",fill:"currentColor",opacity:"0.5",children:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})},a)})]})})}var x=e.i(56563);function g(){let[e,a]=(0,s.useState)(null),[d,c]=(0,s.useState)([]),[o,h]=(0,s.useState)(0),[g,f]=(0,s.useState)(0),[p,y]=(0,s.useState)(0),[j,v]=(0,s.useState)(0),[b,w]=(0,s.useState)(0),N=()=>{let e=new Date().toISOString().split("T")[0],t=(0,x.getDailyScore)(e);a(t||null);let s=new Date;s.setDate(s.getDate()-90);let r=s.toISOString().split("T")[0],l=(0,x.getDailyScores)().filter(e=>e.date>=r).sort((e,t)=>e.date.localeCompare(t.date));c(l);let n=0;if(l.length>0)for(let e of[...l].reverse())if(e.score>=70)n++;else break;h(n),f(l.length>0?Math.round(l.reduce((e,t)=>e+t.score,0)/l.length):0);let i=l.length>0?l.slice(-7):[];y(i.length>0?Math.round(i.reduce((e,t)=>e+t.score,0)/i.length):0);let d=new Date;d.setDate(d.getDate()-30);let o=l.filter(e=>new Date(e.date)>=d);v(o.length>0?Math.round(o.reduce((e,t)=>e+t.score,0)/o.length):0);let u=new Date;u.setDate(u.getDate()-1);let m=u.toISOString().split("T")[0],g=l.find(e=>e.date===m);w(t&&g?t.score-g.score:0)};(0,s.useEffect)(()=>{N();let e=()=>{N()};return window.addEventListener("storage",e),window.addEventListener("tasksUpdated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("tasksUpdated",e)}},[]);let k=d.length>0?d.slice(-7):[];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-balance",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Track your momentum and progress"})]}),(0,t.jsxs)("div",{className:"p-8 border rounded-lg bg-card",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Today's Score"}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"text-6xl font-bold",style:{color:"#1e90ff"},children:e?`${e.score}%`:"0%"}),(0,t.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full transition-all",style:{width:`${e?.score||0}%`,backgroundColor:"#1e90ff"}})}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:[e?`${e.tasks_completed}/${e.total_tasks}`:"0/0"," tasks completed"]}),0!==b&&(0,t.jsxs)("span",{style:{color:b>0?"#4682b4":"#dc2626"},children:[b>0?"+":"",b,"% from yesterday"]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(r,{title:"Current Streak",value:`${o} ${1===o?"day":"days"}`,icon:l.TrendingUp,description:"Days with 70%+ score"}),(0,t.jsx)(r,{title:"Weekly Average",value:`${p}%`,icon:i,description:"Last 7 days"}),(0,t.jsx)(r,{title:"This Month",value:`${j}%`,icon:n,description:"Last 30 days"})]}),(0,t.jsxs)("div",{className:"p-6 border rounded-lg bg-card",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"7-Day Score Trend"}),(0,t.jsx)(m,{scores:k})]}),(0,t.jsx)("div",{className:"p-6 border rounded-lg bg-card",children:(0,t.jsx)(u,{scores:d})})]})}e.s(["default",()=>g],76643)}]);