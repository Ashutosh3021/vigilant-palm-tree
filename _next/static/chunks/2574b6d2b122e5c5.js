(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54010,e=>{"use strict";let t={"DSA - I":20,"DSA - II":15,GYM:3,"CLASSES AND ACADEMICS":5,"NO FAP":2,UPGRADE:10,STATISTICS:5,MATH:10,COACHING:15,OTHER:5,MISCELLANEOUS:5,JOURNAL:5},s=Object.values(t).reduce((e,t)=>e+t,0);function a(e){return t[e.toUpperCase()]||0}function r(){return Object.entries(t).map(([e,t])=>({category:e,weight:t}))}100!==s&&console.warn(`Warning: Category weights total ${s}%, not 100%. This may cause scoring issues.`),e.s(["getAllCategoryWeights",()=>r,"getCategoryWeight",()=>a])},14646,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(54010);var a=e.i(73375),r=e.i(63059),l=e.i(67881);function d({scores:e,year:d}){let[n,i]=(0,s.useState)(d),c=new Map;e.forEach(e=>{c.set(e.date,e)});let o=new Date(n,0,1),x=new Date(n,11,31),h=new Date(o);for(;1!==h.getDay();)h.setDate(h.getDate()-1);let u=[],g=new Date(h);for(;(g<=x||0!==g.getDay())&&(u.push(new Date(g)),g.setDate(g.getDate()+1),!(g>x)||1!==g.getDay()););let m=[];for(let e=0;e<u.length;e+=7)m.push(u.slice(e,e+7));let p=e=>{switch(e){case 0:default:return"bg-[#ebedf0] hover:bg-[#ebedf0]/80";case 1:return"bg-[#add8e6] hover:bg-[#add8e6]/80";case 2:return"bg-[#4682b4] hover:bg-[#4682b4]/80";case 3:return"bg-[#1e90ff] hover:bg-[#1e90ff]/80";case 4:return"bg-[#00008b] hover:bg-[#00008b]/80"}},v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=[],j=-1,N=[],b=0;return m.forEach((e,t)=>{let s=e.find(e=>e.getFullYear()===n)?.getMonth();void 0!==s&&s!==j?(N.length>0&&f.push({month:v[j],weeks:N,startCol:b}),j=s,N=[e],b=t):void 0!==s&&N.push(e)}),N.length>0&&-1!==j&&f.push({month:v[j],weeks:N,startCol:b}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:[n," Activity"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>i(n-1),children:[(0,t.jsx)(a.ChevronLeft,{className:"h-4 w-4"}),n-1]}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>i(n+1),disabled:n>=new Date().getFullYear(),children:[n+1,(0,t.jsx)(r.ChevronRight,{className:"h-4 w-4"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"flex gap-2 pl-[52px]",children:f.map((e,s)=>(0,t.jsx)("div",{className:"text-xs text-muted-foreground whitespace-nowrap",style:{width:`${14*e.weeks.length-2}px`},children:e.month},s))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex flex-col gap-[2px] justify-between pr-2 text-xs text-muted-foreground pt-[14px]",children:["Mon","Wed","Fri"].map(e=>(0,t.jsx)("div",{className:"h-[26px] flex items-center",children:e},e))}),(0,t.jsx)("div",{className:"flex gap-2",children:f.map((e,s)=>(0,t.jsx)("div",{className:"flex gap-[2px]",children:e.weeks.map((e,s)=>(0,t.jsx)("div",{className:"flex flex-col gap-[2px]",children:e.map((e,s)=>{var a;let r=e.toISOString().split("T")[0],l=c.get(r),d=l?0===(a=l.score)?0:a<25?1:a<50?2:a<75?3:4:0,i=e.getFullYear()!==n;return(0,t.jsx)("div",{className:`w-[12px] h-[12px] rounded-sm ${i?"opacity-0":p(d)} transition-all cursor-pointer relative group`,title:i?"":l?`${r}: ${l.score}% (${l.tasks_completed}/${l.total_tasks} tasks)`:`${r}: No tasks`},s)})},s))},s))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-4",children:[(0,t.jsx)("span",{children:"Less"}),(0,t.jsx)("div",{className:"flex gap-1",children:[0,1,2,3,4].map(e=>(0,t.jsx)("div",{className:`w-3 h-3 rounded-sm ${p(e)}`},e))}),(0,t.jsx)("span",{children:"More"})]})]})]})}var n=e.i(56563);function i(){let[e,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(0),[i,c]=(0,s.useState)(0),[o,x]=(0,s.useState)(0),h=()=>{let e=new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],t=(0,n.getDailyScores)().filter(t=>t.date>=e).sort((e,t)=>e.date.localeCompare(t.date));a(t),l(t.length);let s=0,r=0;if(t.length>0){let e=[...t].reverse(),a=0;for(let t of e)t.score>=70?++a>s&&(s=a):a=0;for(let t of e)if(t.score>=70)r++;else break}c(s),x(r)};return(0,s.useEffect)(()=>{h();let e=()=>{h()};return window.addEventListener("storage",e),window.addEventListener("tasksUpdated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("tasksUpdated",e)}},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-balance",children:"Momentum Heatmap"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Your activity throughout the year"})]}),(0,t.jsx)("div",{className:"p-6 border rounded-lg bg-card",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)(d,{scores:e,year:new Date().getFullYear()})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Days"}),(0,t.jsx)("div",{className:"text-2xl font-bold mt-1",children:r})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Best Streak"}),(0,t.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[i," days"]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Current Streak"}),(0,t.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[o," days"]})]})]})]})}e.s(["default",()=>i],14646)}]);