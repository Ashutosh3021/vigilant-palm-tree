(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39178,e=>{"use strict";let t={High:3,Medium:2,Low:1};function s(e){if(0===e.length)return 0;let s=e.filter(e=>e.completed),a=e.reduce((e,s)=>e+t[s.priority],0),r=s.reduce((e,s)=>e+t[s.priority],0);return 0===a?0:Math.round(r/a*100)}function a(e){return 0===e?0:e<25?1:e<50?2:e<75?3:4}e.s(["calculateDailyScore",()=>s,"getScoreLevel",()=>a])},14646,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(39178),r=e.i(73375),l=e.i(63059),d=e.i(67881);function i({scores:e,year:i}){let[n,c]=(0,s.useState)(i),o=new Map;e.forEach(e=>{o.set(e.date,e)});let x=new Date(n,0,1),u=new Date(n,11,31),h=new Date(x);for(;1!==h.getDay();)h.setDate(h.getDate()-1);let m=[],g=new Date(h);for(;(g<=u||0!==g.getDay())&&(m.push(new Date(g)),g.setDate(g.getDate()+1),!(g>u)||1!==g.getDay()););let p=[];for(let e=0;e<m.length;e+=7)p.push(m.slice(e,e+7));let f=e=>{switch(e){case 0:default:return"bg-[#ebedf0] hover:bg-[#ebedf0]/80";case 1:return"bg-[#add8e6] hover:bg-[#add8e6]/80";case 2:return"bg-[#4682b4] hover:bg-[#4682b4]/80";case 3:return"bg-[#1e90ff] hover:bg-[#1e90ff]/80";case 4:return"bg-[#00008b] hover:bg-[#00008b]/80"}},v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j=[],b=-1,N=[],w=0;return p.forEach((e,t)=>{let s=e.find(e=>e.getFullYear()===n)?.getMonth();void 0!==s&&s!==b?(N.length>0&&j.push({month:v[b],weeks:N,startCol:w}),b=s,N=[e],w=t):void 0!==s&&N.push(e)}),N.length>0&&-1!==b&&j.push({month:v[b],weeks:N,startCol:w}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:[n," Activity"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>c(n-1),children:[(0,t.jsx)(r.ChevronLeft,{className:"h-4 w-4"}),n-1]}),(0,t.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>c(n+1),disabled:n>=new Date().getFullYear(),children:[n+1,(0,t.jsx)(l.ChevronRight,{className:"h-4 w-4"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"flex gap-2 pl-[52px]",children:j.map((e,s)=>(0,t.jsx)("div",{className:"text-xs text-muted-foreground whitespace-nowrap",style:{width:`${14*e.weeks.length-2}px`},children:e.month},s))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex flex-col gap-[2px] justify-between pr-2 text-xs text-muted-foreground pt-[14px]",children:["Mon","Wed","Fri"].map(e=>(0,t.jsx)("div",{className:"h-[26px] flex items-center",children:e},e))}),(0,t.jsx)("div",{className:"flex gap-2",children:j.map((e,s)=>(0,t.jsx)("div",{className:"flex gap-[2px]",children:e.weeks.map((e,s)=>(0,t.jsx)("div",{className:"flex flex-col gap-[2px]",children:e.map((e,s)=>{let r=e.toISOString().split("T")[0],l=o.get(r),d=l?(0,a.getScoreLevel)(l.score):0,i=e.getFullYear()!==n;return(0,t.jsx)("div",{className:`w-[12px] h-[12px] rounded-sm ${i?"opacity-0":f(d)} transition-all cursor-pointer relative group`,title:i?"":l?`${r}: ${l.score}% (${l.tasks_completed}/${l.total_tasks} tasks)`:`${r}: No tasks`},s)})},s))},s))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-4",children:[(0,t.jsx)("span",{children:"Less"}),(0,t.jsx)("div",{className:"flex gap-1",children:[0,1,2,3,4].map(e=>(0,t.jsx)("div",{className:`w-3 h-3 rounded-sm ${f(e)}`},e))}),(0,t.jsx)("span",{children:"More"})]})]})]})}var n=e.i(56563);function c(){let[e,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(0),[d,c]=(0,s.useState)(0),[o,x]=(0,s.useState)(0),u=()=>{let e=new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],t=(0,n.getDailyScores)().filter(t=>t.date>=e).sort((e,t)=>e.date.localeCompare(t.date));a(t),l(t.length);let s=0,r=0;if(t.length>0){let e=[...t].reverse(),a=0;for(let t of e)t.score>=70?++a>s&&(s=a):a=0;for(let t of e)if(t.score>=70)r++;else break}c(s),x(r)};return(0,s.useEffect)(()=>{u();let e=()=>{u()};return window.addEventListener("storage",e),window.addEventListener("tasksUpdated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("tasksUpdated",e)}},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-balance",children:"Momentum Heatmap"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Your activity throughout the year"})]}),(0,t.jsx)("div",{className:"p-6 border rounded-lg bg-card",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)(i,{scores:e,year:new Date().getFullYear()})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Days"}),(0,t.jsx)("div",{className:"text-2xl font-bold mt-1",children:r})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Best Streak"}),(0,t.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[d," days"]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Current Streak"}),(0,t.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[o," days"]})]})]})]})}e.s(["default",()=>c],14646)}]);