(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39178,e=>{"use strict";let t={High:3,Medium:2,Low:1};function r(e){if(0===e.length)return 0;let r=e.filter(e=>e.completed),i=e.reduce((e,r)=>e+t[r.priority],0),n=r.reduce((e,r)=>e+t[r.priority],0);return 0===i?0:Math.round(n/i*100)}function i(e){return 0===e?0:e<25?1:e<50?2:e<75?3:4}e.s(["calculateDailyScore",()=>r,"getScoreLevel",()=>i])},81140,30030,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:i=!0}={}){return function(t){if(e?.(t),!1===i||!t.defaultPrevented)return r?.(t)}}e.s(["composeEventHandlers",()=>t],81140);var r=e.i(71645),i=e.i(43476);function n(e,t){let n=r.createContext(t),s=e=>{let{children:t,...s}=e,a=r.useMemo(()=>s,Object.values(s));return(0,i.jsx)(n.Provider,{value:a,children:t})};return s.displayName=e+"Provider",[s,function(i){let s=r.useContext(n);if(s)return s;if(void 0!==t)return t;throw Error(`\`${i}\` must be used within \`${e}\``)}]}function s(e,t=[]){let n=[],a=()=>{let t=n.map(e=>r.createContext(e));return function(i){let n=i?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...i,[e]:n}}),[i,n])}};return a.scopeName=e,[function(t,s){let a=r.createContext(s),l=n.length;n=[...n,s];let o=t=>{let{scope:n,children:s,...o}=t,d=n?.[e]?.[l]||a,u=r.useMemo(()=>o,Object.values(o));return(0,i.jsx)(d.Provider,{value:u,children:s})};return o.displayName=t+"Provider",[o,function(i,n){let o=n?.[e]?.[l]||a,d=r.useContext(o);if(d)return d;if(void 0!==s)return s;throw Error(`\`${i}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let i=()=>{let i=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=i.reduce((t,{useScope:r,scopeName:i})=>{let n=r(e)[`__scope${i}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return i.scopeName=t.scopeName,i}(a,...t)]}e.s(["createContext",()=>n,"createContextScope",()=>s],30030)},75830,e=>{"use strict";var t=e.i(71645),r=e.i(30030),i=e.i(20783),n=e.i(91918),s=e.i(43476);function a(e){let a=e+"CollectionProvider",[l,o]=(0,r.createContextScope)(a),[d,u]=l(a,{collectionRef:{current:null},itemMap:new Map}),c=e=>{let{scope:r,children:i}=e,n=t.default.useRef(null),a=t.default.useRef(new Map).current;return(0,s.jsx)(d,{scope:r,itemMap:a,collectionRef:n,children:i})};c.displayName=a;let f=e+"CollectionSlot",m=t.default.forwardRef((e,t)=>{let{scope:r,children:a}=e,l=u(f,r),o=(0,i.useComposedRefs)(t,l.collectionRef);return(0,s.jsx)(n.Slot,{ref:o,children:a})});m.displayName=f;let p=e+"CollectionItemSlot",x="data-radix-collection-item",h=t.default.forwardRef((e,r)=>{let{scope:a,children:l,...o}=e,d=t.default.useRef(null),c=(0,i.useComposedRefs)(r,d),f=u(p,a);return t.default.useEffect(()=>(f.itemMap.set(d,{ref:d,...o}),()=>void f.itemMap.delete(d))),(0,s.jsx)(n.Slot,{...{[x]:""},ref:c,children:l})});return h.displayName=p,[{Provider:c,Slot:m,ItemSlot:h},function(r){let i=u(e+"CollectionConsumer",r);return t.default.useCallback(()=>{let e=i.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${x}]`));return Array.from(i.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[i.collectionRef,i.itemMap])},o]}e.s(["createCollection",()=>a])},86318,e=>{"use strict";var t=e.i(71645);e.i(43476);var r=t.createContext(void 0);function i(e){let i=t.useContext(r);return e||i||"ltr"}e.s(["useDirection",()=>i])},48425,e=>{"use strict";var t=e.i(71645),r=e.i(74080),i=e.i(91918),n=e.i(43476),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let s=t.forwardRef((e,t)=>{let{asChild:s,...a}=e,l=s?i.Slot:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...a,ref:t})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function a(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>s,"dispatchDiscreteCustomEvent",()=>a])},30207,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}e.s(["useCallbackRef",()=>r])},10772,34620,e=>{"use strict";var t=e.i(71645),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r],34620);var i=t["useId".toString()]||(()=>void 0),n=0;function s(e){let[s,a]=t.useState(i());return r(()=>{e||a(e=>e??String(n++))},[e]),e||(s?`radix-${s}`:"")}e.s(["useId",()=>s],10772)},69340,e=>{"use strict";var t=e.i(71645),r=e.i(30207);function i({prop:e,defaultProp:i,onChange:n=()=>{}}){let[s,a]=function({defaultProp:e,onChange:i}){let n=t.useState(e),[s]=n,a=t.useRef(s),l=(0,r.useCallbackRef)(i);return t.useEffect(()=>{a.current!==s&&(l(s),a.current=s)},[s,a,l]),n}({defaultProp:i,onChange:n}),l=void 0!==e,o=l?e:s,d=(0,r.useCallbackRef)(n);return[o,t.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&d(r)}else a(t)},[l,e,a,d])]}e.s(["useControllableState",()=>i])},96626,e=>{"use strict";var t=e.i(71645),r=e.i(20783),i=e.i(34620),n=e=>{var n;let a,l,{present:o,children:d}=e,u=function(e){var r,n;let[a,l]=t.useState(),o=t.useRef({}),d=t.useRef(e),u=t.useRef("none"),[c,f]=(r=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>n[e][t]??e,r));return t.useEffect(()=>{let e=s(o.current);u.current="mounted"===c?e:"none"},[c]),(0,i.useLayoutEffect)(()=>{let t=o.current,r=d.current;if(r!==e){let i=u.current,n=s(t);e?f("MOUNT"):"none"===n||t?.display==="none"?f("UNMOUNT"):r&&i!==n?f("ANIMATION_OUT"):f("UNMOUNT"),d.current=e}},[e,f]),(0,i.useLayoutEffect)(()=>{if(a){let e,t=a.ownerDocument.defaultView??window,r=r=>{let i=s(o.current).includes(r.animationName);if(r.target===a&&i&&(f("ANIMATION_END"),!d.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},i=e=>{e.target===a&&(u.current=s(o.current))};return a.addEventListener("animationstart",i),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",i),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}f("ANIMATION_END")},[a,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:t.useCallback(e=>{e&&(o.current=getComputedStyle(e)),l(e)},[])}}(o),c="function"==typeof d?d({present:u.isPresent}):t.Children.only(d),f=(0,r.useComposedRefs)(u.ref,(n=c,(l=(a=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?n.ref:(l=(a=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?n.props.ref:n.props.ref||n.ref));return"function"==typeof d||u.isPresent?t.cloneElement(c,{ref:f}):null};function s(e){return e?.animationName||"none"}n.displayName="Presence",e.s(["Presence",()=>n])},23750,35804,99682,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function i({className:e,type:i,...n}){return(0,t.jsx)("input",{type:i,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-blue-500 h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-blue-500 focus-visible:ring-blue-500/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}e.s(["Input",()=>i],23750);var n=e.i(71645),s=e.i(34620);function a(e){let[t,r]=n.useState(void 0);return(0,s.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let i,n;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,n=t.blockSize}else i=e.offsetWidth,n=e.offsetHeight;r({width:i,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}function l(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["useSize",()=>a],35804),e.s(["usePrevious",()=>l],99682)},85524,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(67881),n=e.i(23750),s=e.i(47163);function a({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-blue-500 placeholder:text-muted-foreground focus-visible:border-blue-500 focus-visible:ring-blue-500/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var l=e.i(62870),o=e.i(20783),d=e.i(30030),u=e.i(81140),c=e.i(69340),f=e.i(99682),m=e.i(35804),p=e.i(96626),x=e.i(48425),h="Checkbox",[g,b]=(0,d.createContextScope)(h),[v,y]=g(h),j=r.forwardRef((e,i)=>{let{__scopeCheckbox:n,name:s,checked:a,defaultChecked:l,required:d,disabled:f,value:m="on",onCheckedChange:p,form:h,...g}=e,[b,y]=r.useState(null),j=(0,o.useComposedRefs)(i,e=>y(e)),N=r.useRef(!1),k=!b||h||!!b.closest("form"),[T=!1,R]=(0,c.useControllableState)({prop:a,defaultProp:l,onChange:p}),D=r.useRef(T);return r.useEffect(()=>{let e=b?.form;if(e){let t=()=>R(D.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[b,R]),(0,t.jsxs)(v,{scope:n,state:T,disabled:f,children:[(0,t.jsx)(x.Primitive.button,{type:"button",role:"checkbox","aria-checked":S(T)?"mixed":T,"aria-required":d,"data-state":C(T),"data-disabled":f?"":void 0,disabled:f,value:m,...g,ref:j,onKeyDown:(0,u.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,u.composeEventHandlers)(e.onClick,e=>{R(e=>!!S(e)||!e),k&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),k&&(0,t.jsx)(w,{control:b,bubbles:!N.current,name:s,value:m,checked:T,required:d,disabled:f,form:h,style:{transform:"translateX(-100%)"},defaultChecked:!S(l)&&l})]})});j.displayName=h;var N="CheckboxIndicator",k=r.forwardRef((e,r)=>{let{__scopeCheckbox:i,forceMount:n,...s}=e,a=y(N,i);return(0,t.jsx)(p.Presence,{present:n||S(a.state)||!0===a.state,children:(0,t.jsx)(x.Primitive.span,{"data-state":C(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});k.displayName=N;var w=e=>{let{control:i,checked:n,bubbles:s=!0,defaultChecked:a,...l}=e,o=r.useRef(null),d=(0,f.usePrevious)(n),u=(0,m.useSize)(i);r.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==n&&t){let r=new Event("click",{bubbles:s});e.indeterminate=S(n),t.call(e,!S(n)&&n),e.dispatchEvent(r)}},[d,n,s]);let c=r.useRef(!S(n)&&n);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??c.current,...l,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function S(e){return"indeterminate"===e}function C(e){return S(e)?"indeterminate":e?"checked":"unchecked"}var T=e.i(78784);function R({className:e,...r}){return(0,t.jsx)(j,{"data-slot":"checkbox",className:(0,s.cn)("peer border-blue-500 dark:border-blue-400 dark:bg-input/30 data-[state=checked]:bg-blue-500 data-[state=checked]:text-primary-foreground data-[state=checked]:border-blue-500 dark:data-[state=checked]:bg-blue-500 dark:data-[state=checked]:border-blue-500 focus-visible:border-blue-500 focus-visible:ring-blue-500/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(k,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(T.CheckIcon,{className:"size-3.5"})})})}var D=e.i(7233),E=e.i(56563);function M({onTaskCreated:e,taskToEdit:s}){let[o,d]=(0,r.useState)(!!s),[u,c]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!!s&&!!s.isRecurring),[p,x]=(0,r.useState)(s?.isRecurring&&s.recurrenceDays?s.recurrenceDays:{monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1});async function h(t){if(t.preventDefault(),f&&!Object.values(p).some(e=>e))return void alert("Please select at least one day for recurring task");c(!0);let r=new FormData(t.currentTarget),i=r.get("title"),n=r.get("description"),a=r.get("priority"),l=r.get("date");s?(0,E.updateTask)(s.id,{title:i,description:n||"",priority:a,date:l,isRecurring:f,recurrenceDays:f?p:void 0}):(0,E.createTask)({title:i,description:n||"",priority:a,date:l,completed:!1,priority_weight:0,isRecurring:f,recurrenceDays:f?p:void 0}),c(!1),d(!1),e?.(),t.currentTarget.reset(),m(!1),x({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1})}return(0,r.useEffect)(()=>{s&&(d(!0),m(!!s.isRecurring),x(s.isRecurring&&s.recurrenceDays?s.recurrenceDays:{monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}))},[s]),o||s?(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4 p-6 border rounded-lg bg-card",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:s?"Edit Task":"New Task"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Input,{name:"title",placeholder:"Task title",required:!0,className:"text-base",defaultValue:s?.title||""}),(0,t.jsx)(a,{name:"description",placeholder:"Description (optional)",rows:3,defaultValue:s?.description||""}),(0,t.jsxs)(l.Select,{name:"priority",defaultValue:s?.priority||"Medium",required:!0,children:[(0,t.jsx)(l.SelectTrigger,{children:(0,t.jsx)(l.SelectValue,{placeholder:"Priority"})}),(0,t.jsxs)(l.SelectContent,{children:[(0,t.jsx)(l.SelectItem,{value:"High",children:"High Priority"}),(0,t.jsx)(l.SelectItem,{value:"Medium",children:"Medium Priority"}),(0,t.jsx)(l.SelectItem,{value:"Low",children:"Low Priority"})]})]}),(0,t.jsx)(n.Input,{name:"date",type:"date",defaultValue:s?.date||new Date().toISOString().split("T")[0],required:!0}),(0,t.jsxs)("div",{className:"pt-2 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(R,{id:"isRecurring",checked:f,onCheckedChange:e=>m(!!e)}),(0,t.jsx)("label",{htmlFor:"isRecurring",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Recurring Task"})]}),f&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select days to repeat:"}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground capitalize",children:e.substring(0,3)}),(0,t.jsx)(R,{checked:!!p[e],onCheckedChange:()=>{x(t=>({...t,[e]:!t[e]}))}})]},e))})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{type:"submit",disabled:u,className:"flex-1 bg-[#1e90ff] hover:bg-[#4682b4]",children:u?s?"Updating...":"Adding...":s?"Update Task":"Add Task"}),(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>{d(!1),s&&(m(!1),x({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}))},className:"flex-1",children:"Cancel"})]})]}):(0,t.jsxs)(i.Button,{onClick:()=>d(!0),className:"w-full bg-[#1e90ff] hover:bg-[#4682b4]",size:"lg",children:[(0,t.jsx)(D.Plus,{className:"h-5 w-5 mr-2"}),"Add Task"]})}var P=e.i(27612),O=e.i(88511),I=e.i(39178);function A({tasks:e,onTaskUpdated:n}){let[s,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(null),d=[...e].sort((e,t)=>{let r={High:0,Medium:1,Low:2};return r[e.priority]-r[t.priority]}),u=()=>{let e=new Date().toISOString().split("T")[0],t=(0,E.getTasksByDate)(e),r=(0,I.calculateDailyScore)(t),i=t.filter(e=>e.completed).length;(0,E.upsertDailyScore)({date:e,score:r,tasks_completed:i,total_tasks:t.length})},c=async(t,r)=>{a(t);let i=e.find(e=>e.id===t);i&&i.isRecurring&&i.recurrenceDays&&r&&f(i),(0,E.updateTask)(t,{completed:r}),u(),a(null),n?.()},f=e=>{if(!e.recurrenceDays)return;let t=new Date;for(let r=1;r<=7;r++){let i=new Date(t);i.setDate(t.getDate()+r);let n=i.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase();if(e.recurrenceDays[n]){let t={...e,id:`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:i.toISOString().split("T")[0],completed:!1,isRecurring:void 0,recurrenceDays:void 0};(0,E.createTask)(t)}}},m=async e=>{a(e),(0,E.deleteTask)(e),u(),a(null),n?.()};return 0!==e.length||l?(0,t.jsx)("div",{className:"space-y-3",children:l?(0,t.jsx)(M,{taskToEdit:l,onTaskCreated:n}):(0,t.jsx)(t.Fragment,{children:d.map(e=>(0,t.jsx)("div",{className:`p-4 border rounded-lg transition-all ${e.completed?"opacity-60 bg-muted/30":"bg-card"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(R,{checked:e.completed,onCheckedChange:t=>c(e.id,t),disabled:s===e.id,className:"mt-1"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:`font-medium ${e.completed?"line-through text-muted-foreground":""}`,children:e.title}),(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full border ${(e=>{switch(e){case"High":return"bg-[#1e90ff]/10 text-[#1e90ff] border-[#1e90ff]/20";case"Medium":return"bg-[#4682b4]/10 text-[#4682b4] border-[#4682b4]/20";case"Low":return"bg-[#add8e6]/10 text-[#4682b4] border-[#add8e6]/20";default:return""}})(e.priority)}`,children:e.priority}),e.isRecurring&&(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full border bg-blue-100 text-blue-800 border-blue-200",children:"Recurring"})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{o(e)},disabled:s===e.id,children:(0,t.jsx)(O.Edit,{className:"h-4 w-4 text-muted-foreground hover:text-primary"})}),(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>m(e.id),disabled:s===e.id,children:(0,t.jsx)(P.Trash2,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]})]})},e.id))})}):(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:(0,t.jsx)("p",{className:"text-lg",children:"No tasks yet. Add your first task to get started!"})})}function L({tasks:e,onUpdate:n}){let[s,a]=(0,r.useState)({}),[l,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let t={},r=Math.floor(100/e.length),i=100;e.forEach((n,s)=>{s===e.length-1?t[n.id]=i:(t[n.id]=r,i-=r)}),a(t)},[e]);let c=async()=>{for(let t of(u(!0),e)){let e=s[t.id]||0;(0,E.updateTask)(t.id,{priority_weight:e})}u(!1),o(!1),n?.()};if(!l)return(0,t.jsx)("div",{className:"p-6 border rounded-lg bg-card",children:(0,t.jsx)(i.Button,{onClick:()=>o(!0),variant:"outline",className:"w-full",children:"Adjust Task Priorities"})});let f=Object.values(s).reduce((e,t)=>e+t,0);return(0,t.jsxs)("div",{className:"p-6 border rounded-lg bg-card space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Set Priority Weights (Total: ",f,"%)"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Drag the sliders to adjust task priorities. Total must equal 100%."})]}),(0,t.jsx)("div",{className:"space-y-6",children:e.map(r=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium text-sm truncate max-w-[70%]",children:r.title}),(0,t.jsxs)("span",{className:"text-lg font-bold text-primary",children:[s[r.id]||0,"%"]})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:s[r.id]||0,onChange:t=>((t,r)=>{let i=e.filter(e=>e.id!==t),n=i.reduce((e,t)=>e+(s[t.id]||0),0);if(0===n)return;let l=100-r,o={...s,[t]:r};i.forEach(e=>{let t=s[e.id]||0;o[e.id]=Math.round(t/n*l)});let d=Object.values(o).reduce((e,t)=>e+t,0);100!==d&&i.length>0&&(o[i[0].id]+=100-d),a(o)})(r.id,Number.parseInt(t.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, hsl(var(--primary)) 0%, hsl(var(--primary)) ${s[r.id]||0}%, hsl(var(--muted)) ${s[r.id]||0}%, hsl(var(--muted)) 100%)`}})})]},r.id))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{onClick:c,disabled:d||100!==f,className:"flex-1",children:d?"Saving...":"Save Priorities"}),(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"})]})]})}function U(){let[e,i]=(0,r.useState)([]),n=()=>{let e=new Date().toISOString().split("T")[0];i((0,E.getTasksByDate)(e).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()))};return(0,r.useEffect)(()=>{n()},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-balance",children:"Today's Tasks"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),(0,t.jsx)(M,{onTaskCreated:n}),e.length>0&&(0,t.jsx)(L,{tasks:e,onUpdate:n}),(0,t.jsx)(A,{tasks:e,onTaskUpdated:n})]})}e.s(["default",()=>U],85524)}]);